<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wolf Level</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      background: black;
      height: 100vh;
      flex-direction: column;
    }
    canvas {
      background: #111;
      display: block;
    }
    #controls {
      display: flex;
      justify-content: center;
      margin-top: 10px;
      gap: 20px;
    }
    button {
      font-size: 20px;
      padding: 15px 25px;
      border: none;
      border-radius: 10px;
      background: #ff0044;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="800" height="400"></canvas>

  <div id="controls">
    <button id="left">‚óÄÔ∏è</button>
    <button id="jump">‚¨ÜÔ∏è</button>
    <button id="right">‚ñ∂Ô∏è</button>
  </div>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    let player = { x: 50, y: 300, w: 30, h: 30, dy: 0, grounded: false };
    let gravity = 0.8, jumpPower = -12;
    let obstacles = [{x:400,y:340,w:40,h:60},{x:600,y:360,w:40,h:40}];
    let goal = { x: 750, y: 320, w: 30, h: 30 };
    let leftPressed=false, rightPressed=false;

    function drawPlayer() {
      ctx.font = "30px Arial";
      ctx.fillText("üëπ", player.x, player.y+20);
    }

    function drawObstacles() {
      ctx.fillStyle = "red";
      obstacles.forEach(ob => ctx.fillRect(ob.x, ob.y, ob.w, ob.h));
    }

    function drawGoal() {
      ctx.fillStyle = "yellow";
      ctx.beginPath();
      ctx.arc(goal.x, goal.y, goal.w/2, 0, Math.PI*2);
      ctx.fill();
    }

    function update() {
      ctx.clearRect(0,0,canvas.width,canvas.height);

      // Move player
      if (leftPressed) player.x -= 5;
      if (rightPressed) player.x += 5;

      // Gravity
      player.y += player.dy;
      player.dy += gravity;

      if (player.y+player.h >= 370) {
        player.y = 370-player.h;
        player.dy = 0;
        player.grounded = true;
      } else {
        player.grounded = false;
      }

      // Collisions
      obstacles.forEach(ob=>{
        if (player.x < ob.x+ob.w &&
            player.x+player.w > ob.x &&
            player.y < ob.y+ob.h &&
            player.y+player.h > ob.y) {
          resetGame();
        }
      });

      // Goal
      if (player.x < goal.x+goal.w &&
          player.x+player.w > goal.x &&
          player.y < goal.y+goal.h &&
          player.y+player.h > goal.y) {
        alert("üéâ Level Complete!");
        resetGame();
      }

      drawPlayer();
      drawObstacles();
      drawGoal();

      requestAnimationFrame(update);
    }

    function resetGame() {
      player.x = 50;
      player.y = 300;
      player.dy = 0;
    }

    // Controls
    document.getElementById("left").addEventListener("touchstart", ()=>leftPressed=true);
    document.getElementById("left").addEventListener("touchend", ()=>leftPressed=false);

    document.getElementById("right").addEventListener("touchstart", ()=>rightPressed=true);
    document.getElementById("right").addEventListener("touchend", ()=>rightPressed=false);

    document.getElementById("jump").addEventListener("touchstart", ()=>{
      if(player.grounded){
        player.dy = jumpPower;
        player.grounded = false;
      }
    });

    // Keyboard also works
    document.addEventListener("keydown", e=>{
      if(e.code==="ArrowLeft") leftPressed=true;
      if(e.code==="ArrowRight") rightPressed=true;
      if(e.code==="Space") {
        if(player.grounded){
          player.dy = jumpPower;
          player.grounded = false;
        }
      }
    });
    document.addEventListener("keyup", e=>{
      if(e.code==="ArrowLeft") leftPressed=false;
      if(e.code==="ArrowRight") rightPressed=false;
    });

    update();
  </script>
</body>
</html>
